<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio de Pablo Fernández Álvarez</title>

    <link rel="stylesheet" type="text/css" href="assets/css/projects.css">
    <link rel="stylesheet" type="text/css" href="assets/css/navbar.css">
    <link rel="stylesheet" type="text/css" href="assets/css/palette.css">
    <link rel="stylesheet" type="text/css" href="assets/css/contact.css">

</head>

<body onload="init(); drawColorWave('colorwave', 'projects-container', 180, 80);">


    <!---------------------- Barra de navegación --------------------->
    
    <div class="navbar">

        <div class="palette-selector">
            <div class="custom-select" id="custom-select">

              <div class="selected-option">
                <img src="assets/img/mainpalette.png" alt="Paleta 1">
              </div>

              <div class="options">
                <div class="option" data-value="paleta1">
                  <img src="assets/img/mainpalette.png" alt="Paleta 1">
                </div>
                <div class="option" data-value="paleta2">
                  <img src="assets/img/paletteA.png" alt="Paleta 2">
                </div>
                <div class="option" data-value="paleta3">
                    <img src="assets/img/paletteB.png" alt="Paleta 2">
                </div>
                <div class="option" data-value="paleta4">
                    <img src="assets/img/paletteC.png" alt="Paleta 2">
                </div>
                <div class="option" data-value="paleta5">
                    <img src="assets/img/paletteD.png" alt="Paleta 2">
                </div>
              </div>

            </div>
        </div>
          
        <a href="#aboutme" target="_self" class="nav-link active">Sobre mí</a>
        <a href="#projects" target="_self" class="nav-link">Proyectos</a>
        <a href="#contacto" target="_self" class="nav-link">Contacto</a>
        <a href="certificados.html" target="_blank" class="nav-link">Certificados</a>
        <a href="assets/cv/CV-ES.pdf" target="_self" download="CV-ES.pdf" class="nav-link">CV</a>
    </div>

    <!------------------- Shy ------------------->

    <main class="cover" id="projects-container">
        <h1>Shy</h1>
        <canvas id="colorwave"></canvas>    
    </main>


    <!------------------ Links ----------------->

    <div class="links">
        <div class="container">
            <h1>Links</h1>
            <a href="https://github.com/ivasan07/ShyEngine/releases/download/Final-TFG/ShyEngine.zip" download="ShyEngine.zip">Descargar Shy</a>
            <a href="assets/memoria/Memoria.pdf" download="Memoria.pdf">Memoria del proyecto</a>
            <a href="https://github.com/ivasan07/ShyEngine">Repositorio</a>
        </div>
    </div>

    <!------------------ Descripción ------------------>

    <div class="description">
        <div class="container">

            <h2>Descripción</h2>
            <p>Shy es el nombre del proyecto que desarrollamos en un grupo de tres personas para el <strong>trabajo de fin de grado</strong> (TFG). Consiste en un <strong>motor y editor</strong> de videojuegos 2D para <strong>no programadores</strong>. El objetivo del mismo es proporcionar una herramienta con la que se puedan crear <strong>videojuegos sencillos en 2D</strong> con una curva de aprendizaje menor comparada con la que ofrecen los motores más utilizados hoy en día y centrada en aquellos perfiles con <strong>poca experiencia</strong> en programación o en desarrollo de videojuegos en general. Además, el juego se puede ejecutar desde el propio editor agilizando el desarrollo y se pueden generar <strong>versiones ejecutables</strong> de forma automatizada (Build).</p>

            <ul>El desarrollo del proyecto se dividió en tres partes: <strong>motor, editor y sistema de scripting</strong>:
                <p class="extra">El motor y editor de Shy no están integrados por lo que la solución para comunicarlos es un <strong>motor dirigido por datos</strong>. Esto significa que todo lo que se haga en el editor se genera y almacena en ficheros y el motor lo lee para generar, en ejecución, las escenas, entidades, prefabs, etc. Además, mencionar también que todo el proyecto fue desarrollado en <strong>C++</strong> utilizando <strong>Visual Studio</strong> y una serie de librerías necesarias tanto para el motor como para el editor.</p>
                <li>Motor
                    <p>En cuanto al motor, esta dividido en una serie de módulos que contienen la <strong>tecnología</strong> necesaria para diferentes propósitos. Los módulos más importantes son: manejador de recursos, audio, input, físicas, renderizado, arquitectura de gameplay (basada en entidades y componentes) y componentes nativos.</p>
                    <p>El motor cuenta con un sistema de reflexión a través de <strong>etiquetas</strong> (al estilo Unreal) para que el sistema de scripting del editor conozca su API y pueda llamar a las funciones de cada uno de sus módulos.</p>
                    <p>Las librerías utilizadas por el motor son <strong>SDL</strong> para renderizado (imágenes, textos) e input y <strong>Box2D</strong> para las físicas.</p>
                    <div class="libraries">
                        <img class="sdl" src="assets/img/sdl.png" alt="SDL">
                        <img class="box2d" src="assets/img/box2d.png" alt="Box2D">
                    </div>
                </li>
                <li>Editor
                    <p>En cuanto al editor, utiliza la librería <strong>ImGUI</strong> de interfaz de usuario con la cuál implementamos un sistema de ventanas para dividir la funcionalidad del mismo. Esta dividio en tres vistas principales, <strong>gestor de proyectos, vista principal, y editor de scripts</strong>. La vista principal cuenta con ventanas para el <strong>viewport</strong> (la ventana de juego), la <strong>jerarquía de entidades</strong> de la escena, <strong>componentes de las entidades</strong>, <strong>explorador de archivos</strong> del proyecto, <strong>preferencias</strong> del proyecto, etc.</p>
                    <div class="libraries">
                        <img src="assets/img/imgui.png" alt="ImGUI">
                    </div>
                </li>
                <li>Sistema de scripting
                    <p>Este lenguaje se trata de un sistema <strong>basado en nodos</strong> pensando principalmente para ser usado de forma <strong>visual</strong>, inspirado en el sistema de Blueprints de Unreal Engine. La ejecución del lenguaje funciona siguiendo un <strong>flujo</strong>, es decir, pudiendo establecer el orden en el que se ejecutan los nodos, garantizando que el script se comporte siempre de la misma forma.</p>
                    <div class="libraries">
                        <img class="scripting" src="assets/img/scripting.jpg" alt="Scripting">
                    </div>
                </li>
            </ul>
        </div>
    </div>


    <!------------------ Contribucion ------------------>

    <div class="contribution">
        <div class="container">
            <h2>Contribución</h2>

            <p>Mi contribución al proyecto es en gran medida la parte del motor. El proyecto es bastante grande y he contribuido en muchas cosas por lo que concretar todo puede resultar largo.</p>
            <p>Sin embargo, puedes pulsar en el + para consultar mi contribución de forma detallada.</p>

            <button class="plus" id="toggleButton">+</button>

            <div id="content" class="hidden">

                <p>Yo me he encargado de la parte del motor. Al principio me dediqué a investigar posibles librerías tanto de físicas como de audio, para integrar al motor. En cuanto a librería de gráficos tuvimos claro desde el principio que íbamos a usar SDL, debido a que la hemos usado bastante durante el grado y estamos acostumbrados, además de que no tiene ninguna limitación para el desarrollo de videojuegos 2D.</p>

                <p>Una vez escogidas la librerías, Box2D como motor de física y SDLMixer como motor de audio, comencé a montar el proyecto usando Visual Studio 2022. Organicé la solución en varios proyectos, física, audio, input, render, y fui implementando cada uno de ellos. Empecé con el proyecto de Input, el cuál me llevó algo de tiempo ya que implementé soporte para teclado, mando y múltiples mandos. Una vez terminado, fue el turno del proyecto de sonido/audio. Con la ayuda de la documentación de SDLMixer, implementé soporte para la reproducción de efectos de sonido/sonidos cortos y música. Posteriormente comencé con el proyecto de físicas. En este caso tuve que dedicar bastante más tiempo a aprender sobre la librería, leer artículos y documentación, ya que es más compleja. Investigué también la opción de poder visualizar los colisionadores de los cuerpos físicos ya que supondría una gran ayuda tanto para el desarrollo del motor como para el usuario. En la documentación de Box2D encontré algunos ejemplos pero usaban el OpenGL para el dibujado y el motor usa SDL por lo que tuve que implementar esas funciones de dibujado con SDL.</p>

                <p>Luego llegó el momento de implementar el proyecto del ECS (EntityComponent-System), fundamental para realizar pruebas y visualizar las primeras escenas. Para ello además implementé el bucle principal del motor con un intervalo de tiempo fijo para el mundo físico. En este momento, con los proyectos principales implmentados, comencé a implementar los primeros componentes básicos, como son el Transform, Image, PhysicBody y SoundEmitter.</p>

                <p>Durante un tiempo simplemente me dediqué a ampliar y probar los componentes y la funcionalidad implementada en los proyectos. Por ejemplo, añadí una matriz de colisiones al proyecto de físicas para manejar el filtrado de colisiones, implementé distintos tipos de PhysicBody (colisionadores con formas especiales), sincronicé los cuerpos físicos con las transformaciones de la entidad, detección de colisiones, conversión de píxeles a unidades físicas, nuevo componente ParticleSystem para sistemas de partículas, implementé un gestor de recursos para evitar cargar recursos duplicados, mejoré los componentes de sonido para añadir paneo horizontal y sonido 2D, entre otros.</p>

                <p>Con la parte del editor más avanzada, implementé la lógica para leer los datos que genera el editor, como prefabs. Además, implementé la ventana de gestión de proyectos del editor, añadí control de errores en todo el motor, para conseguir una ejecución continua y predecible, imprimiendo los errores por la salida estándar. Añadí también control de errores en el editor, a través de un fichero de log, con la información de los errores durante la ejecución. Creé una estructura de directorios para el editor y motor haciendo más cómodo el ciclo de desarrollo. Implementé una ventana de preferencias donde ajustar parámetros del motor, como gravedad del mundo físico, frecuencia del motor de audio, tamaño de la ventana de juego, entre muchos otros. Implementé el flujo de escenas, es decir, guardar la última escena abierta, mostrar el viewport de una forma especial en caso de que no haya ninguna escena abierta y mostrar en el viewport el nombre de la escena actual junto con su contenido correspondiente.</p>

                <p>Por último, cambié el uso que se hacía de SDL para la implementación de mando en el Input, de SDLJoystick a SDLGameController ya que está más preparada para mando y SDLJoystick es una interfaz de más bajo nivel preparada para cualquier tipo de dispositivo. Añadí más parámetros a la ventana de preferencias, sobretodo para Input, bindeo de teclas rápidas. Mejoré también la ventana de gestión de proyectos para poder eliminar proyectos y ordenar los proyectos por orden de última apertura</p>

            </div>

        </div>
    </div>


    <!------------------ Galería ------------------>

    <div class="galery">
        <div class="container">

            <h2>Galería</h2>

            <div class="item">
                <h3>Vista principal del editor</h3>
                <img src="assets/img/editor.PNG">
            </div>

            <div class="item">
                <h3>Editor de scripts</h3>
                <img src="assets/img/script.PNG">
            </div>

            <div class="item">
                <h3>Gestor de proyectos</h3>
                <img src="assets/img/projects.PNG">
            </div>

            <h2>Videojuegos desarrollados en Shy</h2>

            <div class="item">
                <h3>Plataformas 2D</h3>
                <a href="https://youtu.be/45KvW7YF6mU" target="_blank">
                    <img src="assets/img/plataformas.png">
                </a>
            </div>

            <div class="item">
                <h3>Replica de Space Invaders</h3>
                <a href="https://youtu.be/KOFQnh82AHU" target="_blank">
                    <img src="assets/img/spaceInvaders.png">
                </a>
            </div>

        </div>
    </div>

    
    <!----------------- Contacto ------------------->

    <div class="contacto" id="contacto">
        <div class="container">
            <h1>Contacto</h1>

            <div class="info">
                <div>
                    <p>Donde encontrarme</p>
                    <p>Las Rosas, 28017</p>
                    <p>Madrid, España</p>
                </div>
              
                <div>
                    <p>Información de contacto</p>
                    <p>pablofa01@gmail.com</p>
                    <p>+34 675456362</p>
                </div>
        
                <div>
                    <p>Redes sociales</p>
                    <p><a href="https://www.linkedin.com/in/pablo-fern%C3%A1ndez-%C3%A1lvarez-19b889246/">LinkedIn</a></p>
                    <p><a href="https://github.com/PabloFernandezAl01">GitHub</a></p>
                </div>

            </div>


        </div>
    </div>


    <!-- Javascript -->
    <script src="assets/js/CanvasWrapper.js"></script>
    <script src="assets/js/PaletteSelector.js"></script>
    <script src="assets/js/Colorwave.js"></script>
    <script src="assets/js/ContributionsButton.js"></script>
    <script src="assets/js/main.js"></script>

</body>

</html>